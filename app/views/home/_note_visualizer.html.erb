<div class="note-visualizer sticky top-20 bg-gray-900 border border-gray-700 rounded-lg p-4 shadow-lg">
  <div class="flex flex-col items-center justify-center min-h-[120px]">
    <div id="chord-notes" class="flex flex-col items-center">
      <div class="text-4xl font-bold text-white mb-2"></div>
      <div class="text-lg text-gray-400"></div>
    </div>
  </div>

  <!-- Compact Piano Visualization -->
  <div class="mt-4 border-t border-gray-700 pt-4">
    <div id="mini-piano" class="flex justify-center gap-1">
      <% @keys.each do |key| %>
        <% is_black = key.name.include?('#') || key.name.include?('b') %>
        <div
          class="key mini-key <%= is_black ? 'mini-black-key' : 'mini-white-key' %>"
          data-note="<%= key.name %>"
          data-sample="<%= asset_path(note_asset_name(key.name)) %>"
        >
          <span class="text-[8px] <%= is_black ? 'text-gray-400' : 'text-gray-600' %>">
            <%= key.name.gsub('#', '♯').gsub('b', '♭') %>
          </span>
        </div>
      <% end %>
    </div>
  </div>
</div>
